
╔════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ ███████████ █████   █████ █████  █████████     ███████████  ███████████      ███████          █████ ██████████   █████████  ███████████║
║░█░░░███░░░█░░███   ░░███ ░░███  ███░░░░░███   ░░███░░░░░███░░███░░░░░███   ███░░░░░███       ░░███ ░░███░░░░░█  ███░░░░░███░█░░░███░░░█║
║░   ░███  ░  ░███    ░███  ░███ ░███    ░░░     ░███    ░███ ░███    ░███  ███     ░░███       ░███  ░███  █ ░  ███     ░░░ ░   ░███  ░ ║
║    ░███     ░███████████  ░███ ░░█████████     ░██████████  ░██████████  ░███      ░███       ░███  ░██████   ░███             ░███    ║
║    ░███     ░███░░░░░███  ░███  ░░░░░░░░███    ░███░░░░░░   ░███░░░░░███ ░███      ░███       ░███  ░███░░█   ░███             ░███    ║
║    ░███     ░███    ░███  ░███  ███    ░███    ░███         ░███    ░███ ░░███     ███  ███   ░███  ░███ ░   █░░███     ███    ░███    ║
║    █████    █████   █████ █████░░█████████     █████        █████   █████ ░░░███████░  ░░████████   ██████████ ░░█████████     █████   ║
║   ░░░░░    ░░░░░   ░░░░░ ░░░░░  ░░░░░░░░░     ░░░░░        ░░░░░   ░░░░░    ░░░░░░░     ░░░░░░░░   ░░░░░░░░░░   ░░░░░░░░░     ░░░░░    ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║ ██████████      ███████    ██████████  █████████     ██████   █████    ███████    ███████████                                          ║
║░░███░░░░███   ███░░░░░███ ░░███░░░░░█ ███░░░░░███   ░░██████ ░░███   ███░░░░░███ ░█░░░███░░░█                                          ║
║ ░███   ░░███ ███     ░░███ ░███  █ ░ ░███    ░░░     ░███░███ ░███  ███     ░░███░   ░███  ░                                           ║
║ ░███    ░███░███      ░███ ░██████   ░░█████████     ░███░░███░███ ░███      ░███    ░███                                              ║
║ ░███    ░███░███      ░███ ░███░░█    ░░░░░░░░███    ░███ ░░██████ ░███      ░███    ░███                                              ║
║ ░███    ███ ░░███     ███  ░███ ░   █ ███    ░███    ░███  ░░█████ ░░███     ███     ░███                                              ║
║ ██████████   ░░░███████░   ██████████░░█████████     █████  ░░█████ ░░░███████░      █████                                             ║
║░░░░░░░░░░      ░░░░░░░    ░░░░░░░░░░  ░░░░░░░░░     ░░░░░    ░░░░░    ░░░░░░░       ░░░░░                                              ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║ ███████████  ██████████ █████          ███████    ██████   █████   █████████     ███████████    ███████                                ║
║░░███░░░░░███░░███░░░░░█░░███         ███░░░░░███ ░░██████ ░░███   ███░░░░░███   ░█░░░███░░░█  ███░░░░░███                              ║
║ ░███    ░███ ░███  █ ░  ░███        ███     ░░███ ░███░███ ░███  ███     ░░░    ░   ░███  ░  ███     ░░███                             ║
║ ░██████████  ░██████    ░███       ░███      ░███ ░███░░███░███ ░███                ░███    ░███      ░███                             ║
║ ░███░░░░░███ ░███░░█    ░███       ░███      ░███ ░███ ░░██████ ░███    █████       ░███    ░███      ░███                             ║
║ ░███    ░███ ░███ ░   █ ░███      █░░███     ███  ░███  ░░█████ ░░███  ░░███        ░███    ░░███     ███                              ║
║ ███████████  ██████████ ███████████ ░░░███████░   █████  ░░█████ ░░█████████        █████    ░░░███████░                               ║
║░░░░░░░░░░░  ░░░░░░░░░░ ░░░░░░░░░░░    ░░░░░░░    ░░░░░    ░░░░░   ░░░░░░░░░        ░░░░░       ░░░░░░░                                 ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║                                                                                                                                        ║
║ ███████████ █████   █████ ██████████    █████ █████ ███████████      ███████████ ██████████   █████████   ██████   ██████              ║
║░█░░░███░░░█░░███   ░░███ ░░███░░░░░█   ░░███ ░░███ ░░███░░░░░███    ░█░░░███░░░█░░███░░░░░█  ███░░░░░███ ░░██████ ██████               ║
║░   ░███  ░  ░███    ░███  ░███  █ ░     ░░███ ███   ░███    ░███    ░   ░███  ░  ░███  █ ░  ░███    ░███  ░███░█████░███               ║
║    ░███     ░███████████  ░██████        ░░█████    ░██████████         ░███     ░██████    ░███████████  ░███░░███ ░███               ║
║    ░███     ░███░░░░░███  ░███░░█         ███░███   ░███░░░░░███        ░███     ░███░░█    ░███░░░░░███  ░███ ░░░  ░███               ║
║    ░███     ░███    ░███  ░███ ░   █     ███ ░░███  ░███    ░███        ░███     ░███ ░   █ ░███    ░███  ░███      ░███               ║
║    █████    █████   █████ ██████████    █████ █████ █████   █████       █████    ██████████ █████   █████ █████     █████ ██           ║
║   ░░░░░    ░░░░░   ░░░░░ ░░░░░░░░░░    ░░░░░ ░░░░░ ░░░░░   ░░░░░       ░░░░░    ░░░░░░░░░░ ░░░░░   ░░░░░ ░░░░░     ░░░░░ ░░            ║
╚════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

if False:
    import json, traceback, os, re
    from Function.create_delete import cd as create_delete
    from Function.saver import *
    from Function.Loging import loging as logi
    from Function.python_ import *
    from Function.process_newlines import process_newlines
    from Function.reader import *
    from pathlib import Path


    PROJECT_ROOT = Path(__file__).parent.parent.absolute()
    data_file_path = PROJECT_ROOT / "Data" / "data.json"
    DebugP = reader_l2("JFA SETTINGS", "DebugP", file_data)
    Loging = reader_l2("JFA SETTINGS", "Loging", file_data )
    data_cpp = reader_l1("File_name", file_data_cpp)

    if DebugP:
        for filename in files_to_check:
            if os.path.exists(filename):
                try:
                    with open(filename, 'r', encoding='utf-8') as f:
                        json.load(f)
                    print(f"{filename} - OK")
                except Exception as e:
                    print(f"{filename} - ОШИБКА: {e}")


    with open(data_cpp, "r", encoding="utf-8") as file:
        jfa_code = process_newlines(file.read())


    #===========================     Parser     ===============================#

    for char in jfa_code:
        if char == ";" or char == "{":
            command = command.strip()
            command += char
            code[command_id] = command
            command_id += 1
            command = ""
        else: command += char

    try:
        for line, com in code.items():
            command_id
            recognized = False
            if programm_start:
                command_line += 1
                recognized = True

            if not (com[-1] == ";" or com[-1] == "{"):
                errors.append((line, "SyntaxError", "Нету ;"))
                raise SyntaxError()

            if DebugP: print("JFAP Debug:", not (com[-1] == ";" or com[-1] == "{"), com)

    # WIN WIN WIN WIN WIN WIN WIN WIN WIN WIN
            if com.startswith("Win."):


    # NAME NAME NAME NAME NAME NAME NAME NAME NAME NAME
                if com[4:9] == 'name(':
                    index = com.index('"', 10)
                    save_l2("Win", "Name", com[10:index], file_data)
                    if com[com.index('"', 10):] != '");':
                        errors.append((line, "Win.name error"))
                        raise SyntaxError("Не грусти")
                    recognized = True


    # SIZE SIZE SIZE SIZE SIZE SIZE SIZE SIZE SIZE SIZE
                if com[4:9] == "size(":
                    com = com.replace(" ", "")
                    indexs = [com.index(')', 10), com.index(',', 10)]
                    save_l2("Win", "SizeX", int(com[9:indexs[1]]), file_data)
                    save_l2("Win", "SizeY", int(com[indexs[1] + 1:indexs[0]]), file_data)
                    recognized = True


    # CONDITIONS  CONDITIONS  CONDITIONS  CONDITIONS  CONDITIONS

            if com.startswith("if"):
                start = com.find('(')
                depth, end = 0, -1
                for i in range(start, len(com)):
                    if com[i] == '(':
                        depth += 1
                    elif com[i] == ')':
                        depth -= 1
                        if depth == 0:
                            end = i
                            break
                if end == -1:
                    errors.append((line, "SyntaxError", "Ошибка: скобка не закрыта"))
                    raise SyntaxError("Не грусти")
                else:
                    condition = com[start+1:end]
                    if "and" in condition:
                        condition = condition.replace("and", "&&")
                    if "released" in condition:
                        condition = condition.replace("released", "sf::Event::KeyReleased")
                    if "pressed" in condition:
                        condition.replace("pressed", "sf::Event::KeyPressed")
                    pattern = r'event\.key\.code\(([a-zA-Zа-яА-ЯёЁ0-9])\)'
                    if re.search(pattern, condition):
                        match = re.search(pattern, condition)
                        key_char = match.group(1)
                        digit_map = {str(i): f"Num{i}" for i in range(10)}
                        mapped_key = digit_map.get(key_char, key_char)
                        replacement = f"event.key.code == sf::Keyboard::{mapped_key}"
                        new_condition = re.sub(pattern, replacement, condition)
                        print(new_condition)
                    save_l1(f"{command_line}-if-{TABS}", "event.type == pygame.KEYDOWN", file_commands)
                    TABS += 1

            if com.startswith("fi"):
                TABS -= 1
                save_l1(f"{command_line}-fi-{TABS}", "", file_commands)



    # COLORIZE COLORIZE COLORIZE COLORIZE COLORIZE COLORIZE
            if com.startswith("Colorize."):
                if com[9:].startswith("background."):


    # BACKGROUND.RGB  BACKGROUND.RGB  BACKGROUND.RGB  BACKGROUND.RGB 
                    if com[com.index(".", 9)+1:com.index("(")] == "rgb":
                        if com[com.index("(")+1:com.index(")")].count(",") == 2:
                            colors = com[com.index('(')+1:com.index(')')].replace(" ", "")
                            print(colors)
                            if programm_start:
                                save_l1(f"{command_line}-Colorize.background.rgb-{TABS}", colors, file_commands)
                                recognized = True
                            else:
                                errors.append((line, "SyntaxError", "Colorize на пределами Цикла"))
                                raise SyntaxError("Не грусти")
                        else: 
                            errors.append((line, "SyntaxError", f"rgb принимает 3 значения не {com[com.index("(")+1:com.index(")")].count(",")+1}"))
                            raise SyntaxError("Не грусти")


    # STRING STRING STRING STRING STRING STRING STRING STRING
            if com.startswith("String."):
                Name = com[com.index(".")+1:com.index(" ")]
                Meaning = com[com.index('"')+1:com.index('"', com.index('"')+1)]
                save_l2("String", Name, Meaning, file_strings)
                recognized = True


    # NUMBER NUMBER NUMBER NUMBER NUMBER NUMBER NUMBER NUMBER
            if com.startswith("Number."):
                Name = com[com.index(".")+1:com.index(" ")]
                Meaning = com[com.index(" ", com.index(" ")+1)+1:com.index(";")]
                save_l2("Numbers", Name, Meaning, file_numbers)
                recognized = True


    # START_CYCLE  START_CYCLE  START_CYCLE  START_CYCLE
            if com.startswith("Open_Win{"):
                recognized, line_OW, programm_start = True, line, True


    # END_CYCLE  END_CYCLE  END_CYCLE  END_CYCLE  END_CYCLE 
            if com == "};":
                save_l3("JFA SETTINGS", "Status_Programm", "Open_Win", True, file_data)
                open_win_close, recognized = True, True
        

    # EMPTY_LINES & COMMENTS  EMPTY_LINES & COMMENTS  EMPTY_LINES & COMMENTS
            if com == "/n_Line;": recognized = True
            if com[0] == "#": recognized = True


    # ERROR_HANDLER_PT_0.1  ERROR_HANDLER_PT_0.1  ERROR_HANDLER_PT_0.1
        if False or not recognized:
            errors.append((line, "Unknown Command"))
            raise SyntaxError("Не грусти")


    #===========================     ERROR_HANDLER_PT_1     ===============================#


    except Exception as e:
        print(errors)
        save_l3("JFA SETTINGS", "Status_Programm", "Open_Win", False, file_data)
        tb = traceback.extract_tb(e.__traceback__)
        filename, line, func, text = tb[-1]
        error_info = f'JFAP: Ошибка "{type(e).__name__}" в строке {line}: "{e}"'
        if DebugP: print("\n\n\n", error_info, "\n\n\n")
        error_info2 = f'\nJFAP: Ошибка в файле \033[94m"{os.path.abspath(file_data_cpp)}"\033[0m \n"{errors[0][1]}" в линии {errors[0][0]},\n\033[31m{errors[0][2]}\033[0m\n'
        print(error_info2)
        errors.append(error_info)
        save_l3("JFA SETTINGS", "Status_Programm", "Stopped", False, file_data)
        save_l3("JFA SETTINGS", "Status_Programm", "Stopped_Error", f"{type(e).__name__}", file_data)
        save_l3("JFA SETTINGS", "Status_Programm", "Error_Line", f"{line}", file_data)
        if Loging: logi("./README.md", "./Data/Log")`